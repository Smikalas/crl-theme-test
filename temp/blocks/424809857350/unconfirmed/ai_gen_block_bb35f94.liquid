{% doc %}
  @prompt
    A magazine-style editorial layout

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-editorial-layout-{{ ai_gen_id }} {
    max-width: 1200px;
    margin: 0 auto;
    padding: {{ block.settings.section_padding }}px;
    background-color: {{ block.settings.background_color }};
    font-family: {{ block.settings.body_font.family }}, {{ block.settings.body_font.fallback_families }};
    font-weight: {{ block.settings.body_font.weight }};
    line-height: 1.6;
  }

  .ai-editorial-header-{{ ai_gen_id }} {
    text-align: center;
    margin-bottom: 60px;
    border-bottom: 1px solid {{ block.settings.accent_color }};
    padding-bottom: 40px;
  }

  .ai-editorial-category-{{ ai_gen_id }} {
    font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
    font-weight: {{ block.settings.heading_font.weight }};
    font-size: 12px;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: {{ block.settings.accent_color }};
    margin-bottom: 16px;
  }

  .ai-editorial-title-{{ ai_gen_id }} {
    font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
    font-weight: {{ block.settings.heading_font.weight }};
    font-size: {{ block.settings.title_size }}px;
    line-height: 1.2;
    color: {{ block.settings.text_color }};
    margin: 0 0 20px;max-width: 800px;
    margin-left: auto;
    margin-right: auto;
  }

  .ai-editorial-subtitle-{{ ai_gen_id }} {
    font-size: {{ block.settings.subtitle_size }}px;
    color: {{ block.settings.subtitle_color }};
    margin: 0 0 30px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }

  .ai-editorial-meta-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
    font-size: 14px;
    color: {{ block.settings.meta_color }};
    margin-bottom: 20px;
  }

  .ai-editorial-author-{{ ai_gen_id }} {
    font-weight: 500;
  }

  .ai-editorial-date-{{ ai_gen_id }} {
    position: relative;
  }

  .ai-editorial-date-{{ ai_gen_id }}::before {
    content: "•";
    position: absolute;
    left: -12px;
    color: {{ block.settings.accent_color }};
  }

  .ai-editorial-hero-image-{{ ai_gen_id }} {
    width: 100%;
    margin-bottom: 60px;
    position: relative;
  }

  .ai-editorial-hero-image-{{ ai_gen_id }} img {
    width: 100%;
    height: {{ block.settings.hero_height }}px;
    object-fit: cover;
    border-radius: {{ block.settings.image_border_radius }}px;
  }

  .ai-editorial-hero-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: {{ block.settings.hero_height }}px;
    background-color: #f4f4f4;
    border-radius: {{ block.settings.image_border_radius }}px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-editorial-hero-placeholder-{{ ai_gen_id }} svg {
    width: 100px;
    height: 100px;
    opacity: 0.3;
  }

  .ai-editorial-content-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: 1fr 300px;
    gap: 80px;
    align-items: start;
  }

  .ai-editorial-main-{{ ai_gen_id }} {
    font-size: {{ block.settings.body_size }}px;
    color: {{ block.settings.text_color }};
  }

  .ai-editorial-main-{{ ai_gen_id }} p {
    margin-bottom: 24px;
    text-align: justify;
  }

  .ai-editorial-main-{{ ai_gen_id }} p:first-letter {
    font-size: 4em;
    font-weight: bold;
    float: left;
    line-height: 1;
    margin: 0 8px 0 0;
    color: {{ block.settings.accent_color }};
  }

  .ai-editorial-sidebar-{{ ai_gen_id }} {
    position: sticky;
    top: 40px;
  }

  .ai-editorial-pullquote-{{ ai_gen_id }} {
    background-color: {{ block.settings.pullquote_bg }};
    padding: 30px;
    margin: 40px 0;
    border-left: 4px solid {{ block.settings.accent_color }};
    border-radius: {{ block.settings.image_border_radius }}px;
  }

  .ai-editorial-pullquote-text-{{ ai_gen_id }} {
    font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
    font-size: 24px;
    line-height: 1.4;
    color: {{ block.settings.text_color }};
    margin: 0 0 15px;
    font-style: italic;
  }

  .ai-editorial-pullquote-author-{{ ai_gen_id }} {
    font-size: 14px;
    color: {{ block.settings.meta_color }};
    font-weight: 500;
  }

  .ai-editorial-related-{{ ai_gen_id }} {
    background-color: {{ block.settings.sidebar_bg }};
    padding: 30px;
    border-radius: {{ block.settings.image_border_radius }}px;
    margin-bottom: 30px;
  }

  .ai-editorial-related-title-{{ ai_gen_id }} {
    font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
    font-size: 18px;
    font-weight: 600;
    color: {{ block.settings.text_color }};
    margin: 0 0 20px;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .ai-editorial-related-item-{{ ai_gen_id }} {
    display: block;
    text-decoration: none;
    color: {{ block.settings.text_color }};
    padding: 15px 0;
    border-bottom: 1px solid {{ block.settings.border_color }};
    transition: color 0.3s ease;
  }

  .ai-editorial-related-item-{{ ai_gen_id }}:hover {
    color: {{ block.settings.accent_color }};
  }

  .ai-editorial-related-item-{{ ai_gen_id }}:last-child {
    border-bottom: none;
  }

  .ai-editorial-related-item-title-{{ ai_gen_id }} {
    font-size: 14px;
    font-weight: 500;
    margin: 0 0 5px;
  }

  .ai-editorial-related-item-meta-{{ ai_gen_id }} {
    font-size: 12px;
    color: {{ block.settings.meta_color }};
  }

  .ai-editorial-tags-{{ ai_gen_id }} {
    background-color: {{ block.settings.sidebar_bg }};
    padding: 30px;
    border-radius: {{ block.settings.image_border_radius }}px;
  }

  .ai-editorial-tags-title-{{ ai_gen_id }} {
    font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
    font-size: 18px;
    font-weight: 600;
    color: {{ block.settings.text_color }};
    margin: 0 0 20px;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .ai-editorial-tag-{{ ai_gen_id }} {
    display: inline-block;
    background-color: {{ block.settings.tag_bg }};
    color: {{ block.settings.tag_color }};
    padding: 8px 16px;
    margin: 0 8px 8px 0;
    border-radius: 20px;
    font-size: 12px;
    text-decoration: none;
    transition: background-color 0.3s ease;
  }

  .ai-editorial-tag-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.accent_color }};
    color: white;
  }

  @media screen and (max-width: 1024px) {
    .ai-editorial-content-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
      gap: 40px;
    }

    .ai-editorial-sidebar-{{ ai_gen_id }} {
      position: static;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }
  }

  @media screen and (max-width: 768px) {
    .ai-editorial-layout-{{ ai_gen_id }} {
      padding: {{ block.settings.section_padding | times: 0.5 }}px;
    }

    .ai-editorial-title-{{ ai_gen_id }} {
      font-size: {{ block.settings.title_size | times: 0.8 }}px;
    }

    .ai-editorial-hero-image-{{ ai_gen_id }} img,
    .ai-editorial-hero-placeholder-{{ ai_gen_id }} {
      height: {{ block.settings.hero_height | times: 0.6 }}px;
    }

    .ai-editorial-content-{{ ai_gen_id }} {
      gap: 30px;
    }

    .ai-editorial-sidebar-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
    }

    .ai-editorial-meta-{{ ai_gen_id }} {
      flex-direction: column;
      gap: 10px;
    }

    .ai-editorial-date-{{ ai_gen_id }}::before {
      display: none;
    }

    .ai-editorial-main-{{ ai_gen_id }} p:first-letter {
      font-size: 3em;
    }
  }
{% endstyle %}

<article class="ai-editorial-layout-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <header class="ai-editorial-header-{{ ai_gen_id }}">
    {% if block.settings.category != blank %}
      <div class="ai-editorial-category-{{ ai_gen_id }}">{{ block.settings.category }}</div>
    {% endif %}
    
    {% if block.settings.title != blank %}
      <h1 class="ai-editorial-title-{{ ai_gen_id }}">{{ block.settings.title }}</h1>
    {% endif %}
    
    {% if block.settings.subtitle != blank %}
      <div class="ai-editorial-subtitle-{{ ai_gen_id }}">{{ block.settings.subtitle }}</div>
    {% endif %}<div class="ai-editorial-meta-{{ ai_gen_id }}">
      {% if block.settings.author != blank %}
        <span class="ai-editorial-author-{{ ai_gen_id }}">By {{ block.settings.author }}</span>
      {% endif %}
      {% if block.settings.date != blank %}
        <time class="ai-editorial-date-{{ ai_gen_id }}">{{ block.settings.date }}</time>
      {% endif %}
    </div>
  </header>

  <div class="ai-editorial-hero-image-{{ ai_gen_id }}">
    {% if block.settings.hero_image %}
      <img
        src="{{ block.settings.hero_image | image_url: width: 1200 }}"
        alt="{{ block.settings.hero_image.alt | escape }}"
        loading="lazy"
        width="{{ block.settings.hero_image.width }}"
        height="{{ block.settings.hero_image.height }}"
      >
    {% else %}
      <div class="ai-editorial-hero-placeholder-{{ ai_gen_id }}">
        {{ 'image' | placeholder_svg_tag }}
      </div>
    {% endif %}
  </div>

  <div class="ai-editorial-content-{{ ai_gen_id }}">
    <main class="ai-editorial-main-{{ ai_gen_id }}">
      {% if block.settings.content != blank %}
        {{ block.settings.content }}
      {% else %}
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        
        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        
        {% if block.settings.pullquote != blank %}
          <div class="ai-editorial-pullquote-{{ ai_gen_id }}">
            <div class="ai-editorial-pullquote-text-{{ ai_gen_id }}">{{ block.settings.pullquote }}</div>
            {% if block.settings.pullquote_author != blank %}
              <div class="ai-editorial-pullquote-author-{{ ai_gen_id }}">— {{ block.settings.pullquote_author }}</div>
            {% endif %}
          </div>
        {% endif %}
        <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
        
        <p>Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.</p>
      {% endif %}
    </main>

    <aside class="ai-editorial-sidebar-{{ ai_gen_id }}">
      <div class="ai-editorial-related-{{ ai_gen_id }}">
        <h3 class="ai-editorial-related-title-{{ ai_gen_id }}">Related Articles</h3>
        {% for i in (1..3) %}
          <a href="#" class="ai-editorial-related-item-{{ ai_gen_id }}">
            <div class="ai-editorial-related-item-title-{{ ai_gen_id }}">Related Article {{ i }}</div>
            <div class="ai-editorial-related-item-meta-{{ ai_gen_id }}">2 min read</div>
          </a>
        {% endfor %}
      </div>

      <div class="ai-editorial-tags-{{ ai_gen_id }}">
        <h3 class="ai-editorial-tags-title-{{ ai_gen_id }}">Tags</h3>
        <a href="#" class="ai-editorial-tag-{{ ai_gen_id }}">Fashion</a>
        <a href="#" class="ai-editorial-tag-{{ ai_gen_id }}">Style</a>
        <a href="#" class="ai-editorial-tag-{{ ai_gen_id }}">Trends</a>
        <a href="#" class="ai-editorial-tag-{{ ai_gen_id }}">Editorial</a>
        <a href="#" class="ai-editorial-tag-{{ ai_gen_id }}">Magazine</a>
      </div>
    </aside>
  </div>
</article>

{% schema %}
{
  "name": "Editorial Layout",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "category",
      "label": "Category",
      "default": "Fashion"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Article title",
      "default": "The Art of Modern Editorial Design"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Exploring the intersection of typography, layout, and visual storytelling in contemporary magazine design"
    },
    {
      "type": "text",
      "id": "author",
      "label": "Author name",
      "default": "Jane Smith"
    },
    {
      "type": "text",
      "id": "date",
      "label": "Publication date",
      "default": "March 15, 2024"
    },
    {
      "type": "image_picker",
      "id": "hero_image",
      "label": "Hero image"
    },
    {
      "type": "richtext",
      "id": "content",
      "label": "Article content"
    },
    {
      "type": "header",
      "content": "Pull Quote"
    },
    {
      "type": "textarea",
      "id": "pullquote",
      "label": "Pull quote text",
      "default": "Great design is not just about making things look beautiful, it's about making them work beautifully."
    },
    {
      "type": "text",
      "id": "pullquote_author",
      "label": "Pull quote author",
      "default": "Design Expert"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "font_picker",
      "id": "heading_font",
      "label": "Heading font",
      "default": "helvetica_n4"
    },
    {
      "type": "font_picker",
      "id": "body_font",
      "label": "Body font",
      "default": "helvetica_n4"
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 24,
      "max": 72,
      "step": 2,
      "unit": "px",
      "label": "Title size",
      "default": 48
    },
    {
      "type": "range",
      "id": "subtitle_size",
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Subtitle size",
      "default": 18
    },
    {
      "type": "range",
      "id": "body_size",
      "min": 14,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Body text size",
      "default": 16
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "Subtitle color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent color",
      "default": "#000f9f"
    },
    {
      "type": "color",
      "id": "meta_color",
      "label": "Meta text color",
      "default": "#888888"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border color",
      "default": "#e6e6e6"
    },
    {
      "type": "color",
      "id": "sidebar_bg",
      "label": "Sidebar background",
      "default": "#f8f8f8"
    },
    {
      "type": "color",
      "id": "pullquote_bg",
      "label": "Pull quote background",
      "default": "#f5f5f5"
    },
    {
      "type": "color",
      "id": "tag_bg",
      "label": "Tag background",
      "default": "#e6e6e6"
    },
    {
      "type": "color",
      "id": "tag_color",
      "label": "Tag text color",
      "default": "#333333"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "section_padding",
      "min": 20,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Section padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "hero_height",
      "min": 300,
      "max": 600,
      "step": 25,
      "unit": "px",
      "label": "Hero image height",
      "default": 400
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Image border radius",
      "default": 8
    }
  ],
  "presets": [
    {
      "name": "Editorial Layout"
    }
  ]
}
{% endschema %}